{% extends "base.html" %}
{% block content %}
    {% if queryset %}
        <div class="table-primary">
            <div role="grid" class="dataTables_wrapper form-inline no-footer" id="jq-datatables-wrapper">
                <table id="jq-datatables" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered dataTable no-footer">
                    <thead>
                        <th>Username</th>
                        <th>Title</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Known As</th>
                        <th>User Type</th>
                        <th>Email</th>
                        <th>Smart Card</th>
                        <th>Unit</th>
                        <th>Role</th>
                        <th>Login Count</th>
                        <th>Last Logged In</th>
                    </thead>
                    <tbody>
                        {% for obj in queryset %}
                        <tr class="gradeA odd">
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="username" data-mode="inline" data-placement="top" data-value="{{ obj.username }}"  data-type="text" class="editable">
                                    {{ obj.username }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="title" data-mode="inline" data-placement="top" data-value="{{ obj.title }}"  data-type="text" class="editable">
                                    {{ obj.title }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="first_name" data-mode="inline" data-placement="top" data-value="{{ obj.first_name }}"  data-type="text" class="editable">
                                    {{ obj.first_name }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="last_name" data-mode="inline" data-placement="top" data-value="{{ obj.last_name }}"  data-type="text" class="editable">
                                    {{ obj.last_name }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="known_as" data-mode="inline" data-placement="top" data-value="{{ obj.known_as }}"  data-type="text" class="editable">
                                    {{ obj.known_as }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="user_type" data-mode="inline" data-placement="top" data-value="{{ obj.user_type }}"  data-type="text" class="editable">
                                    {{ obj.user_type }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="email" data-mode="inline" data-placement="top" data-value="{{ obj.email }}"  data-type="text" class="editable">
                                    {{ obj.email }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="smart_card" data-mode="inline" data-placement="top" data-value="{{ obj.smart_card }}"  data-type="text" class="editable">
                                    {{ obj.smart_card }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="unit" data-mode="inline" data-placement="top" data-value="{{ obj.unit }}"  data-type="text" class="editable">
                                    {{ obj.unit }}
                                </a>
                            </td>
                            <td>
                                <a href="#" data-pk="{{ obj.pk }}" data-url="{% url 'update_user' %}" data-name="role" data-mode="inline" data-placement="top" data-value="{{ obj.role }}"  data-type="text" class="editable">
                                    {{ obj.role }}
                                </a>
                            </td>
                            <td>{{ obj.login_count }}</td>
                            <td>{{ obj.last_login }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    {% else %}
    <h2>No Data</h2>
    {% endif %}

    <script>
        init.push(function() {
            $('#jq-datatables').DataTable();
            $('#jq-datatables-wrapper .table-caption').text('User Profiles');
            $('#jq-datatables_wrapper .dataTables_filter input').attr('placeholder', 'Search...');
            $('#jq-datatables_filter').on('keyup', function() {
                $('#jq-datatables').search(this.value).draw();
            });
            $('.editable').editable({
                success: function(response, newValue) {
                    if(response.status == 'error') return response.msg; //msg will be shown in editable form
                }
            });
        })
    </script>
    <script>

    </script>
{% endblock %}

{# <a href="#" class="tag_edit_name" data-type="text" data-pk="{{ obj.id }}" data-title="Enter Tag name" data-url="{% url 'update_tags' obj.id %}" data-params="{csrfmiddlewaretoken:'{{csrf_token}}'}">#}